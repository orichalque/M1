package com.myjee;


import javax.servlet.ServletException;
import javax.servlet.http.*;

import com.google.appengine.labs.repackaged.org.json.JSONObject;
import com.google.appengine.repackaged.com.google.gson.JsonParser;

import java.io.BufferedReader;
import java.io.IOException;

@SuppressWarnings("serial")
public class DiceLaunchServlet extends HttpServlet {
	public void doPost(HttpServletRequest request, HttpServletResponse response)
			  throws ServletException, IOException {
		System.out.println("Bonjour");
		StringBuffer jb = new StringBuffer();
		  String line = null;
		  try {
		    BufferedReader reader = request.getReader();
		    while ((line = reader.readLine()) != null)
		      jb.append(line);
		  } catch (Exception e) { /*report an error*/ }

		  try {
		    JSONObject jsonObject = JSONObject.fromObject(jb.toString());
		  } catch (ParseException e) {
		    // crash and burn
		    throw new IOException("Error parsing JSON request string");
		  }
		Person p = new Person();
		p.setName( (String) joUser.get("name"));
		p.setScore( (int) joUser.get("score"));
		System.out.println(p.getName());
			  // you can handle jsonString by parsing it to a Java object. 
			  // For this purpose, you can use one of the Json-Java parsers like gson**.
	}
}
